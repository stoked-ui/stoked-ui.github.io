"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5110],{12734:function(e,t,n){n.d(t,{K:function(){return l},W:function(){return a}});var r=n(87842);n(92379);var i=n(651),l=(0,r.Z)((0,i.jsx)("path",{d:"M16.59 12.41 12 7.83 7.41 12.41 6 11l6-6 6 6z"}),"FileExplorerExpandIcon"),a=(0,r.Z)((0,i.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"FileExplorerCollapseIcon")},25835:function(e,t,n){n.d(t,{W:function(){return r}});var r=n(92379).createContext(function(){return -1})},67005:function(e,t,n){n.d(t,{Q:function(){return r}});var r=n(92379).createContext(null)},86514:function(e,t,n){n.d(t,{u:function(){return FileExplorerProvider}}),n(92379);var r=n(67005),i=n(651);function FileExplorerProvider(e){var t=e.value,n=e.children;return(0,i.jsx)(r.Q.Provider,{value:t,children:t.wrapRoot({children:n})})}},90402:function(e,t,n){n.d(t,{i:function(){return useFileExplorerContext}});var r=n(92379),i=n(67005),useFileExplorerContext=function(){var e=r.useContext(i.Q);if(null==e)throw Error("SUI X: Could not find the FileExplorer View context.\nIt looks like you rendered your component outside of a FileExplorerBasic or FileExplorer parent component.\nThis can also happen if you are bundling multiple versions of the FileExplorer View.");return e}},38020:function(e,t,n){n.d(t,{i:function(){return FileProvider}});var r=n(39519),i=n.n(r),l=n(90402);function FileProvider(e){var t=e.children,n=e.itemId,r=(0,l.i)();return(0,r.wrapItem)({children:t,itemId:n,instance:r.instance})}FileProvider.propTypes={children:i().node,itemId:i().string.isRequired}},75251:function(e,t,n){n.d(t,{xC:function(){return unstable_resetCleanupTracking},Cb:function(){return v}});var r,i=n(53710),l=n(76760),a=n(43880),u=n(92379),o=n(43640),d=n(76236),s=n.n(d),c=function(){function TimerBasedCleanupTracking(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;(0,a.Z)(this,TimerBasedCleanupTracking),(0,o.Z)(this,"timeouts",new(s())),(0,o.Z)(this,"cleanupTimeout",1e3),this.cleanupTimeout=e}return(0,l.Z)(TimerBasedCleanupTracking,[{key:"register",value:function(e,t,n){var r=this;this.timeouts||(this.timeouts=new(s()));var i=setTimeout(function(){"function"==typeof t&&t(),r.timeouts.delete(n.cleanupToken)},this.cleanupTimeout);this.timeouts.set(n.cleanupToken,i)}},{key:"unregister",value:function(e){var t=this.timeouts.get(e.cleanupToken);t&&(this.timeouts.delete(e.cleanupToken),clearTimeout(t))}},{key:"reset",value:function(){var e=this;this.timeouts&&(this.timeouts.forEach(function(t,n){e.unregister({cleanupToken:n})}),this.timeouts=void 0)}}]),TimerBasedCleanupTracking}(),f=function(){function FinalizationRegistryBasedCleanupTracking(){(0,a.Z)(this,FinalizationRegistryBasedCleanupTracking),(0,o.Z)(this,"registry",new FinalizationRegistry(function(e){"function"==typeof e&&e()}))}return(0,l.Z)(FinalizationRegistryBasedCleanupTracking,[{key:"register",value:function(e,t,n){this.registry.register(e,t,n)}},{key:"unregister",value:function(e){this.registry.unregister(e)}},{key:"reset",value:function(){}}]),FinalizationRegistryBasedCleanupTracking}(),m=(0,l.Z)(function ObjectToBeRetainedByReact(){(0,a.Z)(this,ObjectToBeRetainedByReact)}),I={registry:null},unstable_resetCleanupTracking=function(){var e;null===(e=I.registry)||void 0===e||e.reset(),I.registry=null},v=(r=0,function(e,t,n){null===I.registry&&(I.registry="undefined"!=typeof FinalizationRegistry?new f:new c);var l=u.useState(new m),a=(0,i.Z)(l,1)[0],o=u.useRef(null),d=u.useRef();d.current=n;var s=u.useRef(null);!o.current&&d.current?(o.current=e.$$subscribeEvent(t,function(e,t){if(!t.defaultMuiPrevented){var n;null===(n=d.current)||void 0===n||n.call(d,e,t)}}),r+=1,s.current={cleanupToken:r},I.registry.register(a,function(){var e;null===(e=o.current)||void 0===e||e.call(o),o.current=null,s.current=null},s.current)):!d.current&&o.current&&(o.current(),o.current=null,s.current&&(I.registry.unregister(s.current),s.current=null)),u.useEffect(function(){return!o.current&&d.current&&(o.current=e.$$subscribeEvent(t,function(e,t){if(!t.defaultMuiPrevented){var n;null===(n=d.current)||void 0===n||n.call(d,e,t)}})),s.current&&I.registry&&(I.registry.unregister(s.current),s.current=null),function(){var e;null===(e=o.current)||void 0===e||e.call(o),o.current=null}},[e,t])})},48414:function(e,t,n){n.d(t,{I1:function(){return fileListStateReducer},M6:function(){return c},Ml:function(){return f},nI:function(){return getFileExplorerStateDefault}});var r=n(56902),i=n(45711),l=n(36063),a=n(61707),u=n.n(a),o=n(92379),d=n(48894),s=(0,n(42503).R)(),c={remove:function(e,t){return e.filter(function(e){return(null==e?void 0:e.id)!==t}).map(function(e){return c.hasNodes(e)?(0,l.Z)((0,l.Z)({},e),{},{children:e.children?c.remove(e.children,t):[]}):(e.children=[],e)})},insertBefore:function(e,t,n){return e.flatMap(function(e){if(e.id===t)return[n,e];if(c.hasNodes(e)){var r;return(0,l.Z)((0,l.Z)({},e),{},{children:c.insertBefore(null!==(r=e.children)&&void 0!==r?r:[],t,n)})}return e})},insertAfter:function(e,t,n){return e.flatMap(function(e){if(e.id===t)return[e,n];if(c.hasNodes(e)){var r;return(0,l.Z)((0,l.Z)({},e),{},{children:c.insertAfter(null!==(r=e.children)&&void 0!==r?r:[],t,n)})}return e})},insertChild:function(e,t,n){return e.flatMap(function(e){var r,a;return e.id===t?(0,l.Z)((0,l.Z)({},e),{},{expanded:!0,children:[n].concat((0,i.Z)(null!==(a=e.children)&&void 0!==a?a:[]))}):c.hasNodes(e)?(0,l.Z)((0,l.Z)({},e),{},{children:c.insertChild(null!==(r=e.children)&&void 0!==r?r:[],t,n)}):e})},find:function(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(r.id===t)return r;if(c.hasNodes(r)){var i,l=c.find(null!==(i=r.children)&&void 0!==i?i:[],t);if(l)return l}}},createChild:function(e,t,n){var r,i=null===n?null:c.find(e,n);if(null===n||void 0!==i){if(void 0!==t.file&&void 0!==t.file.path){var l=t.file.path.split("/");l.pop(),l.forEach(function(t){if(""!==t){var n=null===(r=i.children)||void 0===r?void 0:r.find(function(e){return e.label===t});if(void 0!==n)i=n;else{var r,l,a,u,o=s.id("file",5),d={id:o,itemId:o,label:t,type:"folder",children:[],parent:null!==(l=i)&&void 0!==l?l:null};c.createChild(e,d,null!==(a=null===(u=i)||void 0===u?void 0:u.id)&&void 0!==a?a:null),i=d}}})}if(!i||null===n){e.push(t);return}i.children||(i.children=[]),null===(r=i.children)||void 0===r||r.push(t)}},createChildren:function(e,t,n){t.forEach(function(t){c.createChild(e,t,n)})},getPathToItem:function(e){var t,n=e.current,l=e.targetId,a=e.parentIds,u=void 0===a?[]:a,o=(0,r.Z)(n);try{for(o.s();!(t=o.n()).done;){var d=t.value;if(d&&d.children&&0!==d.children.length){if((null==d?void 0:d.id)===l)return u;var s=c.getPathToItem({current:d.children,targetId:l,parentIds:[].concat((0,i.Z)(u),[d.id])});if(s)return s}}}catch(e){o.e(e)}finally{o.f()}},hasNodes:function(e){return!!(e&&e.children&&e.children.length>0)},calculateFolderSize:function(e,t){var n=c.find(e,t);return void 0===n||void 0===n.children?0:n.children.reduce(function(t,n){if("folder"===n.type){var r;return c.calculateFolderSize(e,null!==(r=n.id)&&void 0!==r?r:n.itemId)+t}return t+((null==n?void 0:n.size)||0)},0)}};function getFileExplorerStateDefault(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{lastAction:null,items:e}}var dataReducer=function(e,t){if("set-state"===t.type)return t.items;if("create-children"===t.type)return c.createChildren(e,t.items,t.targetId),e;if("create-child"===t.type)return c.createChild(e,t.item,t.targetId),e;var n=c.find(e,t.itemId);if(!n)return console.warn("Task [".concat(t.type,"] failed: itemId ").concat(t.itemId," was not found")),e;if("remove"===t.type)return c.remove(e,t.itemId);if("instruction"===t.type){var r=t.instruction;if("reparent"===r.type){var i=c.getPathToItem({current:e,targetId:t.targetId});(0,d.Z)(i);var l=i[r.desiredLevel],a=c.remove(e,t.itemId);return c.insertAfter(a,l,n)}if(t.itemId===t.targetId)return e;if("reorder-above"===r.type){var u=c.remove(e,t.itemId);return c.insertBefore(u,t.targetId,n)}if("reorder-below"===r.type){var o=c.remove(e,t.itemId);return c.insertAfter(o,t.targetId,n)}if("make-child"===r.type){var s=c.remove(e,t.itemId);return c.insertChild(s,t.targetId,n)}console.warn("TODO: instruction not implemented",r,t)}return e};function fileListStateReducer(e,t){return{items:dataReducer(e.items,t),lastAction:t}}var f=o.createContext({dispatch:function(){},uniqueContextId:u()("uniqueId"),getPathToItem:function(){return[]},getMoveTargets:function(){return[]},getNodesOfItem:function(){return[]},registerFile:function(){}})},17010:function(e,t,n){n.d(t,{Y:function(){return l}});var r=n(96604),i=n(31600),l=n(92379).createContext({DropIndicator:r.f,attachInstruction:i.n,extractInstruction:i.E})},48837:function(e,t,n){n.d(t,{H:function(){return useFileExplorerDnd}});var r=n(98959),i=n(45234),l=n(36063),a=n(45711),u=n(53710),o=n(76236),d=n.n(o),s=n(53020),c=n.n(s),f=n(61707),m=n.n(f),I=n(92379),v=n(69974),p=n(48894),g=n(35076),h=n(60521),x=n(3578),b=n(36693),E=n(31802),S=n(75047),F=n(93042),y=n(28e3),C=n(42503),Z=n(20326),T=n(34035),M=n(17010),D=n(48414);function createFileRegistry(){var e=new(d());return{registry:e,registerFile:function(t){var n=t.itemId,r=t.element;return e.set(n,{element:r}),function(){e.delete(n)}}}}var useFileExplorerDnd=function(e){var t,n=e.instance,r=e.params,i=e.rootRef,o=I.useReducer(function(e,t){var r=(0,D.I1)(e,t);return n.updateItems(r.items),n.recalcVisibleIndices(r.items,!0,0),r},(0,D.nI)(),function(){return(0,D.nI)(r.items)}),d=(0,u.Z)(o,2),s=d[0],f=d[1],g=I.useState(createFileRegistry),h=(0,u.Z)(g,1)[0],x=h.registry,b=h.registerFile,E=s.items,S=s.lastAction;I.useEffect(function(){if(null!==S&&"instruction"===S.type){var e,t=(null!==(e=x.get(S.itemId))&&void 0!==e?e:{}).element;t&&(0,T.D)(t)}},[S,x]);var F=I.useCallback(function(e,t){var n;f({type:"create-children",items:E,targetId:t,itemId:null!==(n=e[0].id)&&void 0!==n?n:e[0].itemId})},[f]),y=I.useCallback(function(e,t){var n;f({type:"create-child",item:e,targetId:t,itemId:null!==(n=null==e?void 0:e.id)&&void 0!==n?n:null==e?void 0:e.itemId})},[f]),C=I.useCallback(function(e){f({type:"remove",itemId:e})},[]),w=I.useCallback(function(e){for(var t=e.itemId,n=[],r=c()(E);r.length>0;){var i,l=r.pop();l&&l.id!==t&&(l.children||(l.children=[]),n.push(l),null===(i=l.children)||void 0===i||i.forEach(function(e){return r.push(e)}))}return n},[E]),R=I.useCallback(function(e){if(""===e)return(0,a.Z)(E);var t,n=D.M6.find(E,e);return(0,p.Z)(E),null!==(t=null==n?void 0:n.children)&&void 0!==t?t:[]},[E]),k=(0,Z.Z)(function(e){var t;return null!==(t=D.M6.getPathToItem({current:E,targetId:e}))&&void 0!==t?t:[]}),P=I.useMemo(function(){return{dispatch:f,uniqueContextId:m()("unique-id"),getPathToItem:k,getMoveTargets:w,getNodesOfItem:R,registerFile:b}},[f,k,w,R,b]),A=I.useRef(null),O=(0,v.Z)(i,A),N=I.useContext(M.Y).extractInstruction,getDropInternalData=function(e){var t=e.source,r=e.location;if(r.current.dropTargets.length&&"file-element"===t.data.type){var i=t.data.itemId,a=r.current.dropTargets[0],u=a.data.itemId,o=N(a.data),d=n.getItem(u),s=n.getItem(i);if(null!==o)return{dropped:{item:s,dnd:t},target:{item:(0,l.Z)((0,l.Z)({},d),{},{type:"trash"===d.id?"trash":d.type}),dnd:r.current},instruction:o}}},V=I.useMemo(function(){return P},[P]),dndEnabled=function(){return!!r.dndInternal||!!r.dndExternal};return{rootRef:O,instance:{dndConfig:function(){return dndEnabled()?{dndInternal:r.dndInternal,dndExternal:r.dndExternal,dndFileTypes:r.dndFileTypes,dndTrash:r.dndTrash}:void 0},dndEnabled:dndEnabled,dndInternalEnabled:function(){return!!r.dndInternal},dndExternalEnabled:function(){return!!r.dndExternal},dndExternalFileTypes:function(){var e;return null!==(e=r.dndFileTypes)&&void 0!==e?e:[]},dndTrash:function(){return r.dndTrash},getDndContext:V,dropInternal:function(e){var t,n,r,i=getDropInternalData(e);if(i)switch(i.target.item.type){case"trash":console.warn("handleTrashDrop",i),f({type:"remove",itemId:null!==(t=i.dropped.item.id)&&void 0!==t?t:i.dropped.item.itemId});break;case"folder":f({type:"instruction",instruction:i.instruction,itemId:null!==(n=i.dropped.item.id)&&void 0!==n?n:i.dropped.item.itemId,targetId:null!==(r=i.target.item.id)&&void 0!==r?r:i.target.item.itemId});break;default:console.warn("handleFileDrop",i)}},createChildren:F,createChild:y,removeItem:C},contextValue:{dnd:dndEnabled()?{dndInternal:!!r.dndInternal||void 0,dndExternal:!!r.dndExternal||void 0,dndFileTypes:null!==(t=r.dndFileTypes)&&void 0!==t?t:[],dndTrash:r.dndTrash}:void 0},params:{dndItems:s.items,lastDndAction:s.lastAction}}};useFileExplorerDnd.getDefaultizedParams=function(e){var t;return(0,l.Z)((0,l.Z)({},e),{},{dndInternal:null!=e&&!!e.dndInternal||void 0,dndExternal:null!=e&&!!e.dndExternal||void 0,dndFileTypes:null!==(t=null==e?void 0:e.dndFileTypes)&&void 0!==t?t:[],dndTrash:null==e?void 0:e.dndTrash})},useFileExplorerDnd.params={dndInternal:!0,dndExternal:!0,dndFileTypes:!0,dndTrash:!0},useFileExplorerDnd.getInitialState=function(){return{}},useFileExplorerDnd.itemPlugin=function(e){var t=e.props,n=e.rootRef,a=e.contentRef,u=e.instance,o=e.status,d=I.useRef(null),s=(0,v.Z)(d,a),c=I.useRef(null),f=(0,v.Z)(c,n),m=I.useRef(null),Z=I.useContext(D.Ml),T=Z.uniqueContextId,w=Z.getPathToItem,R=Z.registerFile,k=I.useContext(M.Y),P=k.attachInstruction,A=k.extractInstruction,O={dndState:t.dndState,dndInstruction:t.dndInstruction,dndContainer:t.dndContainer},setState=function(e){u.updateDndMeta(t.itemId,e)};I.useEffect(function(){if(d.current)return(0,p.Z)(d.current),R({itemId:t.itemId,element:d.current})},[t.itemId,R]);var N=I.useCallback(function(e){var n=e.current.dropTargets[0];if(!n)return!1;var r=A(n.data);if(!r)return!1;var i=n.data.itemId;return(0,p.Z)("string"==typeof i),w(i)[function getParentLevelOfInstruction(e){return"instruction-blocked"===e.type?getParentLevelOfInstruction(e.desired):"reparent"===e.type?e.desiredLevel-1:e.currentLevel-1}(r)]===t.itemId},[w,A,t]),V=I.useCallback(function(){var e;null===(e=m.current)||void 0===e||e.call(m),m.current=null},[]),L=I.useCallback(function(){var e="parent-of-instruction"===O.dndState?"idle":O.dndState;setState((0,l.Z)((0,l.Z)({},O),{},{dndState:e}))},[]),z=I.useCallback(function(e){if(N(e.location)){setState((0,l.Z)((0,l.Z)({},O),{},{dndState:"parent-of-instruction"}));return}L()},[L,setState,N]),B=u.dndConfig();return I.useEffect(function(){if(B&&d.current){var e,n=["folder","trash"].includes(t.type);(0,p.Z)(d.current);var a=(0,h.En)({element:d.current,canDrag:function(){return"trash"!==t.type},getInitialData:function(){return{itemId:t.itemId,type:"file-element",isOpenOnDragStart:t.children&&"folder"===t.type,uniqueContextId:T}},onGenerateDragPreview:function(e){var t=e.nativeSetDragImage;(0,x.L)({getOffset:(0,b.s)({x:"16px",y:"8px"}),render:function(e){var t=e.container;return setState({dndState:"preview",dndContainer:t,dndInstruction:O.dndInstruction}),function(){return setState({dndState:"idle",dndContainer:t,dndInstruction:O.dndInstruction})}},nativeSetDragImage:t})},onDragStart:function(e){var n=e.source;setState((0,l.Z)((0,l.Z)({},O),{},{dndState:"dragging"})),n.data.isOpenOnDragStart&&u.isItemExpanded(t.itemId)&&u.toggleItemExpansion(null,t.itemId)},onDrop:u.dropInternal}),s=(0,h.wO)({element:null==d?void 0:d.current,onDragEnter:function(){setState((0,l.Z)((0,l.Z)({},O),{},{dndState:"parent-of-instruction"}))},getData:function(e){var r,i=e.input,l=e.element;return P({itemId:t.itemId,type:t.type},{input:i,element:l,indentPerLevel:0,currentLevel:null!==(r=t.depth)&&void 0!==r?r:0,mode:u.getItemMode(t),block:n?[]:["make-child"]})},canDrop:function(e){var t=e.source;return n&&"file-element"===t.data.type&&t.data.uniqueContextId===T},getIsSticky:function(){return!0},onDragLeave:function(){V(),setState((0,l.Z)((0,l.Z)({},O),{},{dndInstruction:null}))},onDrop:function(e){u.dropInternal(e),V(),setState((0,l.Z)((0,l.Z)({},O),{},{dndInstruction:null}))}}),c=(0,h.sd)({canMonitor:function(e){return e.source.data.uniqueContextId===T},onDragStart:z,onDrag:z,onDrop:function(){L()}}),f=(0,E.f)({element:null==d?void 0:d.current,canDrop:function(e){return e.input,e.source,e.element,console.log("canDrop",n),n},getData:function(e){var r,i=e.input,l=e.element;return P({itemId:t.itemId,type:t.type},{input:i,element:l,indentPerLevel:32,currentLevel:null!==(r=t.depth)&&void 0!==r?r:0,mode:u.getItemMode(t),block:n?[]:["make-child"]})},onDragEnter:function(){setState((0,l.Z)((0,l.Z)({},O),{},{dndState:"parent-of-instruction"}))},onDragLeave:function(){setState((0,l.Z)((0,l.Z)({},O),{},{dndState:"idle",dndInstruction:null})),V()},onDrag:function(e){var n,r,i,a,d=A(e.self.data);(null==d?void 0:d.type)!=="make-child"||"folder"!==t.type||null==o||!o.expandable||null!=o&&o.expanded||m.current||(m.current=(r=(n={waitMs:500,fn:function(){u.isItemExpanded(t.itemId)||u.toggleItemExpansion(null,t.itemId)}}).waitMs,i=n.fn,a=window.setTimeout(function(){a=null,i()},r),function(){a&&(window.clearTimeout(a),a=null)})),(null==d?void 0:d.type)!=="make-child"&&m.current&&V(),setState((0,l.Z)((0,l.Z)({},O),{},{dndInstruction:d}))},onDrop:(e=(0,i.Z)((0,r.Z)().mark(function _callee2(e){var n,i,a;return(0,r.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u.isItemExpanded(t.itemId)||u.toggleItemExpansion(null,t.itemId),r.next=3,y.AT.from(e);case 3:n=r.sent,i=e.self,a=n.map(function(e){var t=(0,C.R)().id("file",4);return{type:"image",id:t,itemId:t,file:e,label:e.name,expanded:!1,modified:e.lastModified,size:e.size,children:[],parent:null}}),u.createChildren(a,i.data.itemId),V(),setState((0,l.Z)((0,l.Z)({},O),{},{dndInstruction:null}));case 9:case"end":return r.stop()}},_callee2)})),function(t){return e.apply(this,arguments)})}),I=(0,E.E)({canMonitor:S.n,onDragStart:z,onDrag:z,onDrop:function(){F.y.stop(),L()}}),v=null!=B&&B.dndInternal?(0,g.$)(a,s,c):(0,g.$)(),Z=B.dndExternal?(0,g.$)(f,I):(0,g.$)();return(0,g.$)(v,Z)}},[d]),I.useEffect(function(){return function(){V()}},[V]),{contentRef:s,rootRef:f}}},13256:function(e,t,n){n.d(t,{y:function(){return useFileExplorerExpansion}});var r=n(36063),i=n(76236),l=n.n(i),a=n(92379),u=n(97118),useFileExplorerExpansion=function(e){var t=e.instance,n=e.params,r=e.models,i=a.useMemo(function(){var e=new(l());return r.expandedItems.value.forEach(function(t){e.set(t,!0)}),e},[r.expandedItems.value]),setExpandedItems=function(e,t){var i;null===(i=n.onExpandedItemsChange)||void 0===i||i.call(n,e,t),r.expandedItems.setControlledValue(t)},o=a.useCallback(function(e){return i.has(e)},[i]),d=a.useCallback(function(e){var n;return!!(null!==(n=t.getItemMeta(e))&&void 0!==n&&n.expandable)},[t]),s=(0,u.Z)(function(e,n){var r=t.isItemExpanded(n);t.setItemExpansion(e,n,!r)}),c=(0,u.Z)(function(e,i,l){var a;t.isItemExpanded(i)!==l&&(a=l?[i].concat(r.expandedItems.value):r.expandedItems.value.filter(function(e){return e!==i}),n.onItemExpansionToggle&&n.onItemExpansionToggle(e,i,l),setExpandedItems(e,a))});return{publicAPI:{setItemExpansion:c},instance:{isItemExpanded:o,isItemExpandable:d,setItemExpansion:c,toggleItemExpansion:s,expandAllSiblings:function(e,i){var l=t.getItemMeta(i),a=t.getItemOrderedChildrenIds(l.parentId).filter(function(e){return t.isItemExpandable(e)&&!t.isItemExpanded(e)}),u=r.expandedItems.value.concat(a);a.length>0&&(n.onItemExpansionToggle&&a.forEach(function(t){n.onItemExpansionToggle(e,t,!0)}),setExpandedItems(e,u))}},contextValue:{expansion:{expansionTrigger:a.useMemo(function(){return n.expansionTrigger?n.expansionTrigger:"content"},[n.expansionTrigger])}}}};useFileExplorerExpansion.models={expandedItems:{getDefaultValue:function(e){return e.defaultExpandedItems}}};var o=[];useFileExplorerExpansion.getDefaultizedParams=function(e){var t;return(0,r.Z)((0,r.Z)({},e),{},{defaultExpandedItems:null!==(t=e.defaultExpandedItems)&&void 0!==t?t:o})},useFileExplorerExpansion.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0,expansionTrigger:!0}},81574:function(e,t,n){n.d(t,{B:function(){return useFileExplorerFiles}});var r=n(36063),i=n(45711),l=n(43640),a=n(85431),u=n.n(a),o=n(51041),d=n.n(o),s=n(21797),c=n.n(s),f=n(92379),m=n(66278),I=n(42503),v=n(46014),p=n(96472),g=n(25835),h=n(651),updateItemsState=function(e){var t=e.items,n=e.isItemDisabled,r=e.getItemLabel,a=e.getItemId,o=e.recalcVisibleIndices,s={},c={},f=(0,l.Z)({},p.H,[]),processItem=function processItem(e,t,i){var l,o,d,m,v,g,h,x,b=a?a(e):e.id,E=null!==(l=null!==(o=null!==(d=null!==(m=null!=b?b:null==e?void 0:e.itemId)&&void 0!==m?m:e.id)&&void 0!==d?d:null==e?void 0:e.label)&&void 0!==o?o:null==e?void 0:e.name)&&void 0!==l?l:(0,I.R)().id("file",4);if(e.id=E,e.itemId=null!==(v=e.itemId)&&void 0!==v?v:E,e.label=null!==(g=e.label)&&void 0!==g?g:E,null==E)throw Error(["SUI X: The FileExplorer View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",u()(e)].join("\n"));if(null!=s[E])throw Error(["SUI X: The FileExplorer View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",'Two items were provided with the same id in the `items` prop: "'.concat(E,'"')].join("\n"));var S=r?r(e):e.label;if(null==S)throw Error(["SUI X: The FileExplorer View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",u()(e)].join("\n"));s[E]={id:E,label:S,parentId:i,idAttribute:void 0,expandable:!!(null!==(h=e.children)&&void 0!==h&&h.length),disabled:!!n&&n(e),depth:t,dndState:"idle",dndContainer:null,dndInstruction:null},c[E]=e,f[E]=[];var F=null!=i?i:p.H;f[F]||(f[F]=[]),f[F].push(E),null===(x=e.children)||void 0===x||x.forEach(function(e){return processItem(e,t+1,E)})};null==t||t.forEach(function(e){return processItem(e,0,null)});var m={};return d()(f).forEach(function(e){m[e]=(0,p.P)(f[e])}),null!=t&&t.length&&o((0,i.Z)(t),!0,0),{itemMetaMap:s,itemMap:c,itemOrderedChildrenIds:f,itemChildrenIndexes:m,indiciesDirty:!1}},useFileExplorerFiles=function(e){var t,n=e.instance,i=e.params,l=e.state,a=e.setState,u=e.experimentalFeatures,o=(0,m.Z)(),getFiles=function(){return l.items.itemOrderedChildrenIds[p.H].map(function(e){return l.items.itemMap[e]})},recalcVisibleIndices=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:getFiles(),t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];arguments.length>2&&void 0!==arguments[2]&&arguments[2],(l.items.indiciesDirty||t)&&(l.items.indiciesDirty=!1,function initializeVisibleIndices(e){for(var t=0;t<e.length;t+=1){var r,i,l=e[t];l&&(l.visibleIndex=-1,null!=l&&null!==(r=l.children)&&void 0!==r&&r.length&&n.isItemExpanded(null!==(i=l.id)&&void 0!==i?i:l.itemId)&&initializeVisibleIndices(l.children))}}(e),function recalVisibleIndicesBase(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<e.length;r+=1){var i,l,a=e[r];a&&(a.visibleIndex=t,t+=1,null!==(i=a.children)&&void 0!==i&&i.length&&n.isItemExpanded(null!==(l=a.id)&&void 0!==l?l:a.itemId)&&(t=recalVisibleIndicesBase(a.children,t)))}return t}(e))},d=f.useCallback(function(e){return l.items.itemMetaMap[e]},[l.items.itemMetaMap]),s=f.useCallback(function(e){return l.items.itemMap[e]},[l.items.itemMap]),I=f.useCallback(function(e){if(null==e)return!1;var t=n.getItemMeta(e);if(!t)return!1;if(t.disabled)return!0;for(;null!=t.parentId;)if((t=n.getItemMeta(t.parentId)).disabled)return!0;return!1},[n]),getItemDOMElement=function(e){var t=n.getItemMeta(e);return null==t?null:document.getElementById(n.getFileIdAttribute(e,t.idAttribute))},g=f.useCallback(function(e){var t,r=null!==(t=n.getItemMeta(e).parentId)&&void 0!==t?t:p.H;return l.items.itemChildrenIndexes[r][e]},[n,l.items.itemChildrenIndexes]),h=f.useCallback(function(e){var t;return null!==(t=l.items.itemOrderedChildrenIds[null!=e?e:p.H])&&void 0!==t?t:[]},[l.items.itemOrderedChildrenIds]),x=f.useRef(!1),b=f.useCallback(function(){x.current=!0},[]),E=f.useCallback(function(){return x.current},[]);return f.useEffect(function(){n.areItemUpdatesPrevented()},[n,a,i.items,i.isItemDisabled,i.getItemId,i.getItemLabel,n]),{getRootProps:function(){return{style:{"--FileExplorer-itemChildrenIndentation":"number"==typeof i.itemChildrenIndentation?"".concat(i.itemChildrenIndentation,"px"):i.itemChildrenIndentation}}},publicAPI:{getItem:s,getItemDOMElement:getItemDOMElement},instance:{getItemDOMElement:getItemDOMElement,updateItemsState:updateItemsState,updateDndMeta:function(e,t){a(function(n){var i=n.items.itemMetaMap[e];return i.dndState=t.dndState,i.dndContainer=t.dndContainer,i.dndInstruction=t.dndInstruction,n.items.itemMetaMap[e]=(0,r.Z)({},i),(0,r.Z)({},n)})},getItemMeta:d,getItem:s,getFiles:getFiles,getItemsToRender:function(){return l.items.itemOrderedChildrenIds[p.H].map(function getPropsFromItemId(e){var t=l.items.itemMetaMap[e];return{label:t.label,itemId:t.id,id:t.idAttribute,children:l.items.itemOrderedChildrenIds[e].map(getPropsFromItemId)}})},getItemIndex:g,getItemOrderedChildrenIds:h,isItemDisabled:I,isItemNavigable:function(e){return!!i.disabledItemsFocusable||!n.isItemDisabled(e)},preventItemUpdates:b,areItemUpdatesPrevented:E,updateItems:function(e){a(function(t){var l=updateItemsState({items:e,isItemDisabled:i.isItemDisabled,getItemId:i.getItemId,getItemLabel:i.getItemLabel,recalcVisibleIndices:recalcVisibleIndices});return c()(t.items.itemMetaMap).forEach(function(e){l.itemMetaMap[e.id]||(0,v.c)(n,"removeItem",{id:e.id})}),(0,r.Z)((0,r.Z)({},t),{},{items:l})})},getItemDepthIndex:function(e,t){return h(t).indexOf(e)},recalcVisibleIndices:recalcVisibleIndices,getVisibleIndex:function(e){var t,n,r,i=null===(t=l.items.itemMap[e])||void 0===t?void 0:t.visibleIndex;return i&&-1!==i?i:(l.items.indiciesDirty=!0,recalcVisibleIndices(),null!==(n=null===(r=l.items.itemMap[e])||void 0===r?void 0:r.visibleIndex)&&void 0!==n?n:-1)}},contextValue:{disabledItemsFocusable:i.disabledItemsFocusable,indentationAtItemLevel:null!==(t=u.indentationAtItemLevel)&&void 0!==t&&t,alternatingRows:!0===i.alternatingRows?{background:"".concat("light"===o.palette.mode?"#0001":"#FFF1")}:i.alternatingRows}}};useFileExplorerFiles.getInitialState=function(e){return{items:updateItemsState({items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel,recalcVisibleIndices:function(){return 0}})}},useFileExplorerFiles.getDefaultizedParams=function(e){var t,n;return(0,r.Z)((0,r.Z)({},e),{},{disabledItemsFocusable:null!==(t=e.disabledItemsFocusable)&&void 0!==t&&t,itemChildrenIndentation:null!==(n=e.itemChildrenIndentation)&&void 0!==n?n:"12px",alternateRows:e.alternatingRows})},useFileExplorerFiles.wrapRoot=function(e){var t=e.children,n=e.instance;return(0,h.jsx)(g.W.Provider,{value:function(e){var t,r;return null!==(t=null===(r=n.getItemMeta(e))||void 0===r?void 0:r.depth)&&void 0!==t?t:0},children:t})},useFileExplorerFiles.params={alternatingRows:!0,disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemId:!0,itemChildrenIndentation:!0}},96472:function(e,t,n){n.d(t,{H:function(){return r},P:function(){return buildSiblingIndexes}});var r="__FILE_EXPLORER_VIEW_ROOT_PARENT_ID__",buildSiblingIndexes=function(e){var t={};return e.forEach(function(e,n){t[e]=n}),t}},7528:function(e,t,n){n.d(t,{M:function(){return useFileExplorerFocus}});var r=n(36063),i=n(92379),l=n(97118),a=n(39170),u=n(75251),o=n(14539),d=n(11008),s=n(62730),useDefaultFocusableItemId=function(e,t){var n=(0,s.t)(t).find(function(t){if(!e.isItemNavigable(t))return!1;var n=e.getItemMeta(t);return n&&(null==n.parentId||e.isItemExpanded(n.parentId))});return null==n&&(n=(0,d.WZ)(e)),n},useFileExplorerFocus=function(e){var t=e.instance,n=e.params,d=e.state,s=e.setState,c=e.models,f=e.rootRef,m=useDefaultFocusableItemId(t,c.selectedItems.value),I=(0,l.Z)(function(e){var t="function"==typeof e?e(d.focusedItemId):e;d.focusedItemId!==t&&s(function(e){return(0,r.Z)((0,r.Z)({},e),{},{focusedItemId:t})})}),v=i.useCallback(function(){return!!f.current&&f.current.contains((0,o.v)((0,a.Z)(f.current)))},[f]),p=i.useCallback(function(e){return d.focusedItemId===e&&v()},[d.focusedItemId,v]),isItemVisible=function(e){var n=t.getItemMeta(e);return n&&(null==n.parentId||t.isItemExpanded(n.parentId))},innerFocusItem=function(e,r){var i=t.getItemMeta(r),l=document.getElementById(t.getFileIdAttribute(r,i.idAttribute));l&&l.focus(),I(r),n.onItemFocus&&n.onItemFocus(e,r)},g=(0,l.Z)(function(e,t){isItemVisible(t)&&innerFocusItem(e,t)}),h=(0,l.Z)(function(){if(null!=d.focusedItemId){var e=t.getItemMeta(d.focusedItemId);if(e){var n=document.getElementById(t.getFileIdAttribute(d.focusedItemId,e.idAttribute));n&&n.blur()}I(null)}});return(0,u.Cb)(t,"removeItem",function(e){var t=e.id;d.focusedItemId===t&&innerFocusItem(null,m)}),{getRootProps:function(e){return{onFocus:function(t){var n;null===(n=e.onFocus)||void 0===n||n.call(e,t),t.defaultMuiPrevented||t.target!==t.currentTarget||innerFocusItem(t,m)}}},publicAPI:{focusItem:g},instance:{isItemFocused:p,canItemBeTabbed:function(e){return e===m},focusItem:g,removeFocusedItem:h}}};useFileExplorerFocus.getInitialState=function(){return{focusedItemId:null}},useFileExplorerFocus.params={onItemFocus:!0}},4381:function(e,t,n){n.d(t,{A:function(){return useFileExplorerGrid}});var r=n(45711),i=n(53710),l=n(36063),a=n(50274),u=n.n(a),o=n(21797),d=n.n(o),s=n(5472),c=n.n(s),f=n(85431),m=n.n(f),I=n(92379),v=n(42503),p=n(53882),g=n.n(p),h=n(99079),x=n.n(h);function calcSize(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return void 0===e?r:e[t]?e[t]:(null!==(n=e.children)&&void 0!==n&&n.length&&e.children.forEach(function(e){r+=calcSize(e.props,t)}),r)}var b=n(651),updateGridState=function(e){var t=e.headers,n=e.columns,r=e.initializedIndexes,i=e.id,a=t.label,u=t.size,o=t.modified,d={};return a.sx=(0,l.Z)((0,l.Z)({},a.sx),{},{flexGrow:1,display:"flex",justifyContent:"start"},d),u.sx=(0,l.Z)((0,l.Z)({},a.sx),{},{display:"flex"},d),o.sx=(0,l.Z)((0,l.Z)({},a.sx),{},{display:"flex"},d),{grid:{headers:null!=t?t:{},columns:null!=n?n:{},initializedIndexes:r},id:null!=i?i:(0,v.R)().id("file",4)}},useFileExplorerGrid=function(e){var t=e.instance,n=e.state,a=e.rootRef,o=e.params,setVisibleOrder=function(e){n.grid.visibleItems=e},setColumns=function(e){n.grid.columns=e};I.useEffect(function(){!function evaluate(e){for(var t=0;t<e.length;t+=1)!function(t){var r=e[t];u()(n.grid.columns).forEach(function(e){var t,n=(0,i.Z)(e,2),l=n[0],a=n[1];null===(t=a.evaluator)||void 0===t||t.call(a,r,l)}),r.children&&evaluate(r.children)}(t)}(t.getItemsToRender())},[t,o.items,n.grid]);var processColumns=function(){var e;a.current&&null!==(e=a.current)&&void 0!==e&&e.id&&(a.current.id=n.id),u()(n.grid.columns).forEach(function(e){var t=(0,i.Z)(e,2),r=t[0],l=t[1],a=document.querySelectorAll("#".concat(n.id," .column-").concat(r)),u=-1!==l.width?l.width:0;a.forEach(function(e){l.rowData[e.id]||(l.rowData[e.id]={width:e.clientWidth}),e.clientWidth>u&&(u=e.clientWidth)}),l.waiting?u===l.width&&(l.waiting=!1):(l.width=u+(-1===l.width?8:0),l.waiting=!0)})};I.useEffect(function(){processColumns()},[o.items]);var isColumnAscending=function(e){var t,r;return null!==(t=null===(r=n.grid.headers[e])||void 0===r?void 0:r.status.ascending)&&void 0!==t?t:null},isColumnVisible=function(e){var t,r;return null!==(t=null===(r=n.grid.headers[e])||void 0===r?void 0:r.status.focused)&&void 0!==t?t:null},sortColumn=function sortColumn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,r.Z)(o.items);return(n=n.sort(function(n,r){var i=t?n[e]:r[e],l=t?r[e]:n[e];return i>l?-1:i<l?1:0})).forEach(function(n){n.children&&(n.children=sortColumn(e,t,n.children))}),n},s=I.useCallback(function(e){if(void 0===e.expanded){var n,r=t.getItemMeta(null!==(n=e.id)&&void 0!==n?n:e.itemId);e=(0,l.Z)((0,l.Z)({},r),e)}return e.children.length&&e.expanded?"expanded":t.getItemDepthIndex(e.parentId)===e.children.length-1?"last-in-group":"standard"},[n.items.itemMap]),gridEnabled=function(){return!!o.grid};return{publicAPI:{setVisibleOrder:setVisibleOrder,setColumns:setColumns,upsertColumn:function(e,t){n.grid.columns[e]=t},gridEnabled:gridEnabled},instance:{getItemStatus:function(e,r){var i,l,a,u,d,s;return{expandable:function isItemExpandable(e){return c()(e)?e.length>0&&e.some(isItemExpandable):!!e}(r),expanded:t.isItemExpanded(e),focused:t.isItemFocused(e),selected:t.isItemSelected(e),disabled:t.isItemDisabled(e),visibleIndex:t.getVisibleIndex(e),grid:o.grid,dndState:null!==(i=null===(l=n.items.itemMetaMap[e])||void 0===l?void 0:l.dndState)&&void 0!==i?i:"idle",dndInstruction:null!==(a=null===(u=n.items.itemMetaMap[e])||void 0===u?void 0:u.dndInstruction)&&void 0!==a?a:null,dndContainer:null!==(d=null===(s=n.items.itemMetaMap[e])||void 0===s?void 0:s.dndContainer)&&void 0!==d?d:null}},gridEnabled:gridEnabled,getHeaderStatus:function(e){var t,r;return null!==(t=null===(r=n.grid.headers[e])||void 0===r?void 0:r.status)&&void 0!==t?t:null},isSortColumn:function(e){var t,r;return null!==(t=null===(r=n.grid.headers[e])||void 0===r?void 0:r.status.sort)&&void 0!==t?t:null},isColumnVisible:isColumnVisible,isColumnFocused:function(e){var t,r;return null!==(t=null===(r=n.grid.headers[e])||void 0===r?void 0:r.status.focused)&&void 0!==t?t:null},isColumnAscending:isColumnAscending,toggleColumnSort:function(e){var r=isColumnAscending(e);if(null===r)return null;var i=n.grid.headers[e].status.sort;n.grid.headers[e].status.sort=!0,i&&(n.grid.headers[e].status.ascending=!r);var l=t.getFiles(),a=l.find(function(e){return"trash"===e.id});a&&(l=l.filter(function(e){return"trash"!==e.id}));var u=sortColumn(e,n.grid.headers[e].status.ascending,l);return a&&u.push(a),t.updateItems(u),t.recalcVisibleIndices(u,!0),!r},toggleColumnVisible:function(e){var t=isColumnVisible(e);return null===t?null:(n.grid.headers[e].status.visible=!t,!t)},focusHeader:function(e,t){var r=n.grid.headers[t];r&&(d()(n.grid.headers).forEach(function(e){e.status.focused=!1}),r.status.focused=!0)},blurHeader:function(e,t){var r=n.grid.headers[t];r||(r.status.focused=!1)},isColumn:function(e){return n.grid.columns.hasOwnProperty(e)},calcSize:calcSize,getAltRowClass:function(e){var t;return null!==(t=n.items.itemMetaMap[e])&&void 0!==t&&t.visibleIndex?"Mui-odd":"Mui-even"},setVisibleOrder:setVisibleOrder,setColumns:setColumns,getColumns:function(){return n.grid.columns},getHeaders:function(){return n.grid.headers},getItemMode:s},contextValue:(0,l.Z)((0,l.Z)({},n.grid),{},{grid:o.grid,gridHeader:o.gridHeader})}},E={sx:{display:"flex",overflow:"ellipsis",alignItems:"center",justifyContent:"end",paddingRight:"6px",paddingLeft:"6px"},width:-1,renderContent:function(e){return e},status:{ascending:!0,focused:!1,visible:!0,sort:!1}},S={sx:{display:"flex",overflow:"ellipsis",alignItems:"center",justifyContent:"end",paddingRight:"8px"},width:-1,rowData:{},waiting:!1,cells:[]},children=function(e){return(0,b.jsx)(I.Fragment,{children:e})},F={label:(0,l.Z)((0,l.Z)({},JSON.parse(m()(E))),{},{children:children},{status:{sort:!0,ascending:!0,focused:!0,visible:!0}}),size:(0,l.Z)((0,l.Z)({},JSON.parse(m()(E))),{},{children:children}),modified:(0,l.Z)((0,l.Z)({},JSON.parse(m()(E))),{},{children:children})},y={label:(0,l.Z)({},JSON.parse(m()(S))),size:(0,l.Z)((0,l.Z)({},JSON.parse(m()(S))),{},{renderContent:function(e){var t=["Bytes","KB","MB","GB","TB"];if((null!=e?e:0)===0)return"";var n=g()(Math.floor(Math.log(e)/Math.log(1024)).toString(),10);return 0===n?"".concat(e," ").concat(t[n]):"".concat((e/Math.pow(1024,n)).toFixed(1)," ").concat(t[n])},evaluator:calcSize}),modified:(0,l.Z)((0,l.Z)({},JSON.parse(m()(S))),{},{renderContent:function(e){if(e){var t="en-US";t=navigator.language;var n=Math.round((e-x()())/1e3),r=[60,3600,86400,604800,2592e3,31536e3,1/0],i=r.findIndex(function(e){return e>Math.abs(n)}),l=i?r[i-1]:1,a=new Intl.RelativeTimeFormat(t,{numeric:"auto"});try{return a.format(Math.floor(n/l),["second","minute","hour","day","week","month","year"][i])}catch(r){throw Error("relative time format err: ".concat(r," - ").concat(e," ").concat(n," ").concat(t," ").concat(new Date(e)," ").concat(new Date))}}}})};useFileExplorerGrid.getInitialState=function(e){return updateGridState({columns:e.defaultGridColumns,headers:e.defaultGridHeaders,initializedIndexes:!1,id:e.id})},useFileExplorerGrid.getDefaultizedParams=function(e){var t,n,r,i,a;return(0,l.Z)((0,l.Z)({},e),{},{defaultGridColumns:null!==(t=e.defaultGridColumns)&&void 0!==t?t:y,defaultGridHeaders:null!==(n=e.defaultGridHeaders)&&void 0!==n?n:F,grid:null!==(r=e.grid)&&void 0!==r&&r,initializedIndexes:null!==(i=e.initializedIndexes)&&void 0!==i&&i,gridHeader:null!==(a=e.gridHeader)&&void 0!==a&&a})},useFileExplorerGrid.params={grid:!0,gridHeader:!0,initializedIndexes:!0,columns:!0,headers:!0,defaultGridColumns:!0,defaultGridHeaders:!0}},2651:function(e,t,n){n.d(t,{j:function(){return useFileExplorerIcons}});var useFileExplorerIcons=function(e){var t=e.slots,n=e.slotProps;return{contextValue:{icons:{slots:{collapseIcon:t.collapseIcon,expandIcon:t.expandIcon,endIcon:t.endIcon},slotProps:{collapseIcon:n.collapseIcon,expandIcon:n.expandIcon,endIcon:n.endIcon}}}}};useFileExplorerIcons.params={}},61330:function(e,t,n){n.d(t,{x:function(){return useFileExplorerKeyboardNavigation}});var r=n(21797),i=n.n(r),l=n(92379),a=n(75463),u=n(97118),o=n(11008),useFileExplorerKeyboardNavigation=function(e){var t=e.instance,n=e.params,r=e.state,d=(0,a.V)(),s=l.useRef({}),c=(0,u.Z)(function(e){s.current=e(s.current)});l.useEffect(function(){if(!t.areItemUpdatesPrevented()){var e={};i()(r.items.itemMetaMap).forEach(function(t){e[t.id]=t.label.substring(0,1).toLowerCase()}),s.current=e}},[r.items.itemMetaMap,n.getItemId,t]);var getFirstMatchingItem=function(e,n){for(var r=n.toLowerCase(),getNextItem=function(e){var n=(0,o.xF)(t,e);return null===n?(0,o.WZ)(t):n},i=null,l=getNextItem(e),a={};null==i&&!a[l];)s.current[l]===r?i=l:(a[l]=!0,l=getNextItem(l));return i},canToggleItemSelection=function(e){return!n.disableSelection&&!t.isItemDisabled(e)},canToggleItemExpansion=function(e){return!t.isItemDisabled(e)&&t.isItemExpandable(e)};return{instance:{updateFirstCharMap:c,handleItemKeyDown:function(e,r){if(!e.defaultMuiPrevented&&!e.altKey&&e.currentTarget===e.target.closest('*[role="fileexploreritem"]')){var i,l=e.ctrlKey||e.metaKey,a=e.key;switch(!0){case" "===a&&canToggleItemSelection(r):e.preventDefault(),n.multiSelect&&e.shiftKey?t.expandSelectionRange(e,r):n.multiSelect?t.selectItem(e,r,!0):t.selectItem(e,r,!1);break;case"Enter"===a:canToggleItemExpansion(r)?(t.toggleItemExpansion(e,r),e.preventDefault()):canToggleItemSelection(r)&&(n.multiSelect?(e.preventDefault(),t.selectItem(e,r,!0)):t.isItemSelected(r)||(t.selectItem(e,r,!1),e.preventDefault()));break;case"ArrowDown"===a:var u=(0,o.xF)(t,r);u&&(e.preventDefault(),t.focusItem(e,u),n.multiSelect&&e.shiftKey&&canToggleItemSelection(u)&&t.selectItemFromArrowNavigation(e,r,u));break;case"ArrowUp"===a:var s=(0,o.Ie)(t,r);s&&(e.preventDefault(),t.focusItem(e,s),n.multiSelect&&e.shiftKey&&canToggleItemSelection(s)&&t.selectItemFromArrowNavigation(e,r,s));break;case"ArrowRight"===a&&!d||"ArrowLeft"===a&&d:if(t.isItemExpanded(r)){var c=(0,o.xF)(t,r);c&&(t.focusItem(e,c),e.preventDefault())}else canToggleItemExpansion(r)&&(t.toggleItemExpansion(e,r),e.preventDefault());break;case"ArrowLeft"===a&&!d||"ArrowRight"===a&&d:if(canToggleItemExpansion(r)&&t.isItemExpanded(r))t.toggleItemExpansion(e,r),e.preventDefault();else{var f=t.getItemMeta(r).parentId;f&&(t.focusItem(e,f),e.preventDefault())}break;case"Home"===a:canToggleItemSelection(r)&&n.multiSelect&&l&&e.shiftKey?t.selectRangeFromStartToItem(e,r):t.focusItem(e,(0,o.WZ)(t)),e.preventDefault();break;case"End"===a:canToggleItemSelection(r)&&n.multiSelect&&l&&e.shiftKey?t.selectRangeFromItemToEnd(e,r):t.focusItem(e,(0,o.vB)(t)),e.preventDefault();break;case"*"===a:t.expandAllSiblings(e,r),e.preventDefault();break;case"a"===a&&l&&n.multiSelect&&!n.disableSelection:t.selectAllNavigableItems(e),e.preventDefault();break;case!l&&!e.shiftKey&&!!(i=a)&&1===i.length&&!!i.match(/\S/):var m=getFirstMatchingItem(r,a);null!=m&&(t.focusItem(e,m),e.preventDefault())}}}}}};useFileExplorerKeyboardNavigation.params={}},57341:function(e,t,n){n.d(t,{i:function(){return useFileExplorerSelection}});var r=n(36063),i=n(43640),l=n(53710),a=n(76236),u=n.n(a),o=n(5472),d=n.n(o),s=n(51041),c=n.n(s),f=n(92379),m=n(11008),I=n(62730),useFileExplorerSelection=function(e){var t=e.instance,n=e.params,r=e.models,a=f.useRef(null),o=f.useRef({}),s=f.useMemo(function(){var e=new(u());return d()(r.selectedItems.value)?r.selectedItems.value.forEach(function(t){e.set(t,!0)}):null!=r.selectedItems.value&&e.set(r.selectedItems.value,!0),e},[r.selectedItems.value]),setSelectedItems=function(e,i){if(n.onItemSelectionToggle){if(n.multiSelect){var l=i.filter(function(e){return!t.isItemSelected(e)}),a=r.selectedItems.value.filter(function(e){return!i.includes(e)});l.forEach(function(t){n.onItemSelectionToggle(e,t,!0)}),a.forEach(function(t){n.onItemSelectionToggle(e,t,!1)})}else i!==r.selectedItems.value&&(null!=r.selectedItems.value&&n.onItemSelectionToggle(e,r.selectedItems.value,!1),null!=i&&n.onItemSelectionToggle(e,i,!0))}n.onSelectedItemsChange&&n.onSelectedItemsChange(e,i),r.selectedItems.setControlledValue(i)},selectItem=function(e,i,l,u){if(!n.disableSelection){if(l){var d,s=(0,I.t)(r.selectedItems.value),c=t.isItemSelected(i);d=c&&(!1===u||null==u)?s.filter(function(e){return e!==i}):c||!0!==u&&null!=u?s:[i].concat(s)}else d=!1===u?n.multiSelect?[]:null:n.multiSelect?[i]:i;setSelectedItems(e,d),a.current=i,o.current={}}},selectRange=function(e,i){var a=(0,l.Z)(i,2),u=a[0],d=a[1];if(!n.disableSelection&&n.multiSelect){var s=(0,I.t)(r.selectedItems.value).slice();c()(o.current).length>0&&(s=s.filter(function(e){return!o.current[e]}));var f=(0,I.L)(s),v=(0,m.xn)(t,u,d),p=v.filter(function(e){return!f[e]});setSelectedItems(e,s=s.concat(p)),o.current=(0,I.L)(v)}};return{getRootProps:function(){return{"aria-multiselectable":n.multiSelect}},publicAPI:{selectItem:selectItem},instance:{isItemSelected:function(e){return s.has(e)},selectItem:selectItem,selectAllNavigableItems:function(e){if(!n.disableSelection&&n.multiSelect){var r=(0,m.D3)(t);setSelectedItems(e,r),o.current=(0,I.L)(r)}},expandSelectionRange:function(e,n){if(null!=a.current){var r=(0,m.gB)(t,n,a.current),i=(0,l.Z)(r,2);selectRange(e,[i[0],i[1]])}},selectRangeFromStartToItem:function(e,n){selectRange(e,[(0,m.WZ)(t),n])},selectRangeFromItemToEnd:function(e,n){selectRange(e,[n,(0,m.vB)(t)])},selectItemFromArrowNavigation:function(e,t,l){if(!n.disableSelection&&n.multiSelect){var a,u=(0,I.t)(r.selectedItems.value).slice();0===c()(o.current).length?(u.push(l),o.current=(a={},(0,i.Z)(a,t,!0),(0,i.Z)(a,l,!0),a)):(o.current[t]||(o.current={}),o.current[l]?(u=u.filter(function(e){return e!==t}),delete o.current[t]):(u.push(l),o.current[l]=!0)),setSelectedItems(e,u)}}},contextValue:{selection:{multiSelect:n.multiSelect,checkboxSelection:n.checkboxSelection,disableSelection:n.disableSelection}}}};useFileExplorerSelection.models={selectedItems:{getDefaultValue:function(e){return e.defaultSelectedItems}}};var v=[];useFileExplorerSelection.getDefaultizedParams=function(e){var t,n,i,l;return(0,r.Z)((0,r.Z)({},e),{},{disableSelection:null!==(t=e.disableSelection)&&void 0!==t&&t,multiSelect:null!==(n=e.multiSelect)&&void 0!==n&&n,checkboxSelection:null!==(i=e.checkboxSelection)&&void 0!==i&&i,defaultSelectedItems:null!==(l=e.defaultSelectedItems)&&void 0!==l?l:e.multiSelect?v:null})},useFileExplorerSelection.params={disableSelection:!0,multiSelect:!0,checkboxSelection:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0}},62730:function(e,t,n){n.d(t,{L:function(){return getLookupFromArray},t:function(){return convertSelectedItemsToArray}});var r=n(5472),i=n.n(r),convertSelectedItemsToArray=function(e){return i()(e)?e:null!=e?[e]:[]},getLookupFromArray=function(e){var t={};return e.forEach(function(e){t[e]=!0}),t}},79836:function(e,t,n){n.d(t,{f:function(){return useFileExplorer}});var r=n(36063),i=n(17942),l=n(53710),a=n(45711),u=n(99079),o=n.n(u),d=n(92379),s=n(69974),c=n(43640),f=n(50274),m=n.n(f);n(85431);var useFileExplorerModels=function(e,t){var n=d.useRef({}),i=d.useState(function(){var r={};return e.forEach(function(e){e.models&&m()(e.models).forEach(function(e){var i=(0,l.Z)(e,2),a=i[0],u=i[1];n.current[a]={isControlled:void 0!==t[a],getDefaultValue:u.getDefaultValue},r[a]=u.getDefaultValue(t)})}),r}),a=(0,l.Z)(i,2),u=a[0],o=a[1];return Object.fromEntries(m()(n.current).map(function(e){var n,i=(0,l.Z)(e,2),a=i[0],d=i[1],s=null!==(n=t[a])&&void 0!==n?n:u[a];return[a,{value:s,setControlledValue:function(e){d.isControlled||o(function(t){return(0,r.Z)((0,r.Z)({},t),{},(0,c.Z)({},a,e))})}}]}))},I=n(43880),v=n(76760),p=n(76236),g=n.n(p),h=n(53020),x=n.n(h),b=function(){function EventManager(){(0,I.Z)(this,EventManager),(0,c.Z)(this,"maxListeners",20),(0,c.Z)(this,"warnOnce",!1),(0,c.Z)(this,"events",{})}return(0,v.Z)(EventManager,[{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.events[e];r||(r={highPriority:new(g()),regular:new(g())},this.events[e]=r),n.isFirst?r.highPriority.set(t,!0):r.regular.set(t,!0)}},{key:"removeListener",value:function(e,t){this.events[e]&&(this.events[e].regular.delete(t),this.events[e].highPriority.delete(t))}},{key:"removeAllListeners",value:function(){this.events={}}},{key:"emit",value:function(e){var t=this.events[e];if(t){for(var n=x()(t.highPriority.keys()),r=x()(t.regular.keys()),i=arguments.length,l=Array(i>1?i-1:0),a=1;a<i;a++)l[a-1]=arguments[a];for(var u=n.length-1;u>=0;u-=1){var o=n[u];t.highPriority.has(o)&&o.apply(this,l)}for(var d=0;d<r.length;d+=1){var s=r[d];t.regular.has(s)&&s.apply(this,l)}}}},{key:"once",value:function(e,t){var n=this;this.on(e,function oneTimeListener(){n.removeListener(e,oneTimeListener);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];t.apply(n,i)})}}]),EventManager}(),useFileExplorerInstanceEvents=function(){var e=d.useState(function(){return new b}),t=(0,l.Z)(e,1)[0];return{instance:{$$publishEvent:d.useCallback(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],l=n[1],a=n[2],u=void 0===a?{}:a;u.defaultMuiPrevented=!1,void 0!==u.isPropagationStopped&&u.isPropagationStopped()||t.emit(i,l,u)},[t]),$$subscribeEvent:d.useCallback(function(e,n){return t.on(e,n),function(){t.removeListener(e,n)}},[t])}}};useFileExplorerInstanceEvents.params={};var E=n(34453),useFileExplorerId=function(e){var t=e.params,n=(0,E.Z)(t.id);return{getRootProps:function(){return{id:n}},instance:{getFileIdAttribute:d.useCallback(function(e,t){return null!=t?t:"".concat(n,"-").concat(e)},[n])}}};useFileExplorerId.params={id:!0};var S=[useFileExplorerInstanceEvents,useFileExplorerId],F=n(65784),y=n(51041),C=n.n(y),Z=["slots","slotProps","apiRef","experimentalFeatures"],extractPluginParamsFromProps=function(e){var t=e.props,n=t.slots,r=t.slotProps,l=t.apiRef,a=t.experimentalFeatures,u=(0,F.Z)(t,Z),o=e.plugins,d={};o.forEach(function(e){(0,i.Z)(d,e.params)});var s={},c={};return C()(u).forEach(function(e){var t=u[e];d[e]?s[e]=t:c[e]=t}),{apiRef:l,forwardedProps:c,pluginParams:o.reduce(function(e,t){return t.getDefaultizedParams?t.getDefaultizedParams(e):e},s),slots:null!=n?n:{},slotProps:null!=r?r:{},experimentalFeatures:null!=a?a:{}}},useFileExplorer=function(e){var t,n,u=e.plugins,c=e.rootRef,f=e.props,m=[].concat((0,a.Z)(S),(0,a.Z)(u));"dndInternal"in f&&"dndTrash"in f&&"items"in f&&(f.items=[].concat((0,a.Z)(null!==(n=null==f?void 0:f.items)&&void 0!==n?n:[]),[{id:"trash",label:"Trash",type:"folder",size:0,modified:o()()}]));var I=extractPluginParamsFromProps({plugins:m,props:f}),v=I.pluginParams,p=I.forwardedProps,g=I.apiRef,h=I.experimentalFeatures,x=I.slots,b=I.slotProps,E=useFileExplorerModels(m,v),F=d.useRef({}).current,y=(t=d.useRef({}),g?(null==g.current&&(g.current={}),g.current):t.current),C=d.useRef(null),Z=(0,s.Z)(C,c),T=d.useState(function(){var e={};return m.forEach(function(t){t.getInitialState&&(0,i.Z)(e,t.getInitialState(v))}),e}),M=(0,l.Z)(T,2),D=M[0],w=M[1],R=m.map(function(e){return e.wrapItem}).filter(function(e){return!!e}),k=m.map(function(e){return e.wrapRoot}).filter(function(e){return!!e}).reverse(),P={publicAPI:y,wrapItem:function(e){var t=e.itemId,n=e.children;return R.forEach(function(e){n=e({itemId:t,children:n,instance:F})}),n},wrapRoot:function(e){var t=e.children;return k.forEach(function(e){t=e({children:t,instance:F})}),t},runItemPlugins:function(e){var t=null,n=null,i=null;return m.forEach(function(l){if(l.itemPlugin){var a=l.itemPlugin({props:e,rootRef:t,contentRef:n,instance:F,status:i});null!=a&&a.rootRef&&(t=a.rootRef),null!=a&&a.contentRef&&(n=a.contentRef),null!=a&&a.status&&(i=(0,r.Z)((0,r.Z)({},i),a.status))}}),{contentRef:n,rootRef:t,status:i}},instance:F,rootRef:C},A=[];return m.forEach(function(e){var t=e({instance:F,params:v,slots:x,slotProps:b,experimentalFeatures:h,state:D,setState:w,rootRef:C,models:E});t.getRootProps&&A.push(t.getRootProps),t.publicAPI&&(0,i.Z)(y,t.publicAPI),t.instance&&(0,i.Z)(F,t.instance),t.contextValue&&(0,i.Z)(P,t.contextValue)}),{getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.Z)((0,r.Z)((0,r.Z)({role:"fileExplorer"},p),e),{},{ref:Z});return A.forEach(function(n){(0,i.Z)(t,n(e))}),t},rootRef:Z,contextValue:P,instance:F}}},11008:function(e,t,n){n.d(t,{D3:function(){return getAllNavigableItems},Ie:function(){return getPreviousNavigableItem},WZ:function(){return getFirstNavigableItem},gB:function(){return findOrderInTremauxFileExplorer},vB:function(){return getLastNavigableItem},xF:function(){return getNextNavigableItem},xn:function(){return getNonDisabledItemsInRange}});var r=n(53710),getLastNavigableItemInArray=function(e,t){for(var n=t.length-1;n>=0&&!e.isItemNavigable(t[n]);)n-=1;if(-1!==n)return t[n]},getPreviousNavigableItem=function getPreviousNavigableItem(e,t){var n=e.getItemMeta(t),r=e.getItemOrderedChildrenIds(n.parentId),i=e.getItemIndex(t);if(0===i)return n.parentId;for(var l=i-1;!e.isItemNavigable(r[l])&&l>=0;)l-=1;if(-1===l)return null==n.parentId?null:getPreviousNavigableItem(e,n.parentId);for(var a=r[l],u=getLastNavigableItemInArray(e,e.getItemOrderedChildrenIds(a));e.isItemExpanded(a)&&null!=u;)a=u,u=e.getItemOrderedChildrenIds(a).find(e.isItemNavigable);return a},getNextNavigableItem=function(e,t){if(e.isItemExpanded(t)){var n=e.getItemOrderedChildrenIds(t).find(e.isItemNavigable);if(null!=n)return n}for(var r=e.getItemMeta(t);null!=r;){var i=e.getItemOrderedChildrenIds(r.parentId),l=e.getItemIndex(r.id);if(l<i.length-1){for(var a=l+1;!e.isItemNavigable(i[a])&&a<i.length-1;)a+=1;if(e.isItemNavigable(i[a]))return i[a]}r=e.getItemMeta(r.parentId)}return null},getLastNavigableItem=function(e){for(var t=null;null==t||e.isItemExpanded(t);){var n=e.getItemOrderedChildrenIds(t),r=getLastNavigableItemInArray(e,n);if(null==r)break;t=r}return t},getFirstNavigableItem=function(e){return e.getItemOrderedChildrenIds(null).find(e.isItemNavigable)},findOrderInTremauxFileExplorer=function(e,t,n){if(t===n)return[t,n];var r=e.getItemMeta(t),i=e.getItemMeta(n);if(r.parentId===i.id||i.parentId===r.id)return i.parentId===r.id?[r.id,i.id]:[i.id,r.id];for(var l=[r.id],a=[i.id],u=r.parentId,o=i.parentId,d=-1!==a.indexOf(u),s=-1!==l.indexOf(o),c=!0,f=!0;!s&&!d;)c&&(l.push(u),d=-1!==a.indexOf(u),c=null!==u,!d&&c&&(u=e.getItemMeta(u).parentId)),f&&!d&&(a.push(o),s=-1!==l.indexOf(o),f=null!==o,!s&&f&&(o=e.getItemMeta(o).parentId));var m=d?u:o,I=e.getItemOrderedChildrenIds(m),v=l[l.indexOf(m)-1],p=a[a.indexOf(m)-1];return I.indexOf(v)<I.indexOf(p)?[t,n]:[n,t]},getNonDisabledItemsInRange=function(e,t,n){for(var i=findOrderInTremauxFileExplorer(e,t,n),l=(0,r.Z)(i,2),a=l[0],u=l[1],o=[a],d=a;d!==u;)d=function(t){if(e.isItemExpandable(t)&&e.isItemExpanded(t))return e.getItemOrderedChildrenIds(t)[0];for(var n=e.getItemMeta(t);null!=n;){var r=e.getItemOrderedChildrenIds(n.parentId),i=e.getItemIndex(n.id);if(i<r.length-1)return r[i+1];n=e.getItemMeta(n.parentId)}throw Error("Invalid range")}(d),e.isItemDisabled(d)||o.push(d);return o},getAllNavigableItems=function(e){for(var t=getFirstNavigableItem(e),n=[];null!=t;)n.push(t),t=getNextNavigableItem(e,t);return n}},46014:function(e,t,n){n.d(t,{c:function(){return publishFileExplorerEvent}});var publishFileExplorerEvent=function(e,t,n){e.$$publishEvent(t,n)}},14539:function(e,t,n){n.d(t,{v:function(){return getActiveElement},z:function(){return escapeOperandAttributeSelector}});var getActiveElement=function getActiveElement(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.activeElement;return t?t.shadowRoot?getActiveElement(t.shadowRoot):t:null};function escapeOperandAttributeSelector(e){return e.replace(/["\\]/g,"\\$&")}},98902:function(e,t,n){n.d(t,{b:function(){return buildWarning}});var r=n(5472),i=n.n(r),buildWarning=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning",n=!1,r=i()(e)?e.join("\n"):e;return function(){n||(n=!0,"error"===t?console.error(r):console.warn(r))}}},45379:function(e,t,n){n.d(t,{U:function(){return createUseThemeProps}});var r=n(30459);function createUseThemeProps(e){return r.Z}}}]);